sudo apt-get update && sudo apt-get install -y apache2 apache2-dev apache2-mpm-prefork curl vim git libapache2-mod-wsgi postgresql libpq-dev postgresql-server-dev-all python python-dev python-pip && sudo useradd changemaker -m && sudo passwd changemaker && sudo -u postgres psql -c "CREATE USER changemaker;"; && sudo -u postgres psql -c "CREATE USER 'www-data';"; && sudo -u postgres psql -c "CREATE DATABASE horizon;" && sudo -u postgres psql -c "ALTER DATABASE horizon OWNER TO changemaker;" && su changemaker -p && git clone http://github.com/danieljdufour/hercules.git ~/hercules && pip install -r ~/hercules/requirements.txt --user && python ~/hercules/apodemus/manage.py makemigrations && python ~/hercules/apodemus/manage.py migrate && python ~/hercules/apodemus/manage.py createsuperuser && sudo a2enmod wsgi && sudo cp /home/changemaker/hercules/crowdfunder.conf /etc/apache2/sites-available/crowdfunder.conf && sudo ln -s /etc/apache2/sites-available/crowdfunder.conf /etc/apache2/sites-enabled/crowdfunder.conf && sudo service apache2 restart
